<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>TypeQuux — Natural Transformations</title>
        
        <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/blueprint/grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href={ relativeBase + "css/blueprint/ie.css" } type="text/css" media="screen, projection"/>
        <![endif]-->
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_2em_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.collapse.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/style.css" type="text/css" media="screen, projection"/>
        
        
      </head>
      <body class="color_scheme-redmond">
        <a class="page prev nav" href="Type+Maps.html">
            <span class="space">&nbsp;</span>
            <span class="flip arrow">❧</span>
          </a><a class="page next nav" href="Type-Unions+and+Exclusions.html">
            <span class="space">&nbsp;</span>
            <span class="arrow">❧</span>
          </a>
        <div class="container contentswrapper">
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="Natural+Transformations">Natural Transformations<a href="#Natural+Transformations" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>Ordinary scala functions are monomorphic, which is to say that they transform values of one type to those of another type. 
The requirements of several problems are however to transform contexts, form example, from a <code>List</code> to an <code>Option</code>, or from 
an open connection to a closed connection. Natural transformations encode these transformations whilst maintaining the type
of the object in the context. 
</p><pre><code class="prettyprint lang-scala">trait ~&gt;[-F[_], +G[_]] {
  def apply[A](a: F[A]): G[A]
}
</code></pre><p>Since the names of anonymous classes are not particularly interesting and dollar signs confuse the templating engine
used to produce the documentation, the names of anonymous classes are replaced by <code>/**/</code> below. 
</p><p>Supported operations are:
</p><h4 id="Construction">Construction<a href="#Construction" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><pre><code class="prettyprint lang-scala">scala&gt; import typequux._; // package
import typequux._

scala&gt; import Typequux._ // useful imports
import Typequux._

scala&gt; val singletonList = new (Id ~&gt; List){override def apply[T](t: T) = List(t)}
singletonList: typequux.~&gt;[typequux.typequux.Id,List] = /**/

scala&gt; val list2Option = new (List ~&gt; Option){override def apply[T](x: List[T]) = x.headOption}
list2Option: typequux.~&gt;[List,Option] = /**/

scala&gt; singletonList(12)
res0: List[Int] = List(12)

scala&gt; singletonList(&quot;oogachaka&quot;)
res1: List[String] = List(oogachaka)

scala&gt; singletonList((true, 42))
res2: List[(Boolean, Int)] = List((true,42))

scala&gt; list2Option(List(1, 2, 3))
res3: Option[Int] = Some(1)

scala&gt; list2Option(List())
res4: Option[Nothing] = None
</code></pre><h4 id="Composition">Composition<a href="#Composition" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><pre><code class="prettyprint lang-scala">scala&gt; val list2Set = new (List ~&gt; Set) {override def apply[T](x: List[T]) = x.toSet}
list2Set: typequux.~&gt;[List,Set] = /**/

scala&gt; val singletonSet1 = singletonList andThen list2Set
singletonSet1: typequux.~&gt;[typequux.typequux.Id,Set] = /**/

scala&gt; val singletonSet2 = list2Set compose singletonList
singletonSet2: typequux.~&gt;[typequux.typequux.Id,Set] = /**/

scala&gt; singletonSet1(42)
res5: Set[Int] = Set(42)

scala&gt; singletonSet1(true)
res6: Set[Boolean] = Set(true)

scala&gt; singletonSet2(&quot;goku&quot;)
res7: Set[String] = Set(goku)
</code></pre><h4 id="Conversion+to+monomorphic+function+values">Conversion to monomorphic function values<a href="#Conversion+to+monomorphic+function+values" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><pre><code class="prettyprint lang-scala">scala&gt; Vector(List(1, 2,3), List(100, 200, 100)) map list2Option
res9: scala.collection.immutable.Vector[Option[Int]] = Vector(Some(1), Some(100))

scala&gt; Vector(List(1, 2,3), List(100, 200, 100)) map list2Set
res10: scala.collection.immutable.Vector[Set[Int]] = Vector(Set(1, 2, 3), Set(100, 200))
</code></pre><div class="bottom nav span-16">
                        <em>Next Page</em>
                        <span class="arrow">❧</span>
                        <a href="Type-Unions+and+Exclusions.html"> Type-Unions and Exclusions </a>                        
                        
                      </div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="TypeQuux.html">TypeQuux</a></div><ol class="toc"> <li><div><a href="Two+Quick+Examples.html">Two Quick Examples</a></div></li><li><div><a href="Pre+Requisites.html">Pre Requisites</a></div></li><li><div><a href="Usage.html">Usage</a></div><ol class="toc"> <li><div><a href="Church+Encoding+of+Booleans.html">Church Encoding of Booleans</a></div></li><li><div><a href="Peano+Numbers.html">Peano Numbers</a></div></li><li><div><a href="Dense+Numbers.html">Dense Numbers</a></div></li><li><div><a href="Type+Sets.html">Type Sets</a></div></li><li><div><a href="Type+Maps.html">Type Maps</a></div></li><li><div class="current">Natural Transformations</div></li><li><div><a href="Type-Unions+and+Exclusions.html">Type-Unions and Exclusions</a></div></li><li><div><a href="Singleton+Types+for+Literals.html">Singleton Types for Literals</a></div></li><li><div><a href="Covariant+Heterogenous+Lists.html">Covariant Heterogenous Lists</a></div></li><li><div><a href="Tuple+Ops.html">Tuple Ops</a></div></li><li><div><a href="Sized+Vectors.html">Sized Vectors</a></div></li><li><div><a href="String+Indexed+Collections.html">String Indexed Collections</a></div></li><li><div><a href="Records.html">Records</a></div></li><li><div><a href="Understanding+Constraints.html">Understanding Constraints</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <div class="header">
          <div class="container">
        <div class="span-16 prepend-1 append-1">
          <div class="span-16 top nav">
            <div class="span-16 title">
              <span>TypeQuux</span> — Natural Transformations
            </div>
          </div>
        </div>
      </div>
        </div>
        <div class="footer">
          
        </div>
        <a href="http://github.com/harshad-deo/typequux" class="fork nav"><img src="img/fork.png" alt="Fork me on GitHub"/></a>
        
      </body>
    </html>