<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>TypeQuux — Two Quick Examples</title>
        
        <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/blueprint/grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href={ relativeBase + "css/blueprint/ie.css" } type="text/css" media="screen, projection"/>
        <![endif]-->
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_2em_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.collapse.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/style.css" type="text/css" media="screen, projection"/>
        
        
      </head>
      <body class="color_scheme-redmond">
        <a class="page prev nav" href="TypeQuux.html">
            <span class="space">&nbsp;</span>
            <span class="flip arrow">❧</span>
          </a><a class="page next nav" href="Pre+Requisites.html">
            <span class="space">&nbsp;</span>
            <span class="arrow">❧</span>
          </a>
        <div class="container contentswrapper">
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="Two+Quick+Examples">Two Quick Examples<a href="#Two+Quick+Examples" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>Here are two quick examples to illustrate the look, feel and abilities of the API. 
</p><h2 id="Constraints+help+you+abstract+over+structure">Constraints help you abstract over structure<a href="#Constraints+help+you+abstract+over+structure" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><pre><code class="prettyprint lang-scala">scala&gt; import typequux._ // importing the package
import typequux._

scala&gt; import Typequux._ // useful default types
import Typequux._

scala&gt; import constraint._ // importing the constraints API
import constraint._

scala&gt; def atExample[R](i: LiteralHash[_], r: R)(implicit ev: AtConstraint[i.ValueHash, R, String]): String = ev(r)
atExample: [R](i: typequux.LiteralHash[_], r: R)(implicit ev: typequux.constraint.AtConstraint[i.ValueHash,R,String])String
</code></pre><p>A <code>LiteralHash[T]</code> is an encapsulation of the singleton type associated with a literal of type <code>T</code>. The <code>ValueHash</code> is the 
singleton type associated with the value of the literal. The companion object for <code>LiteralHash</code> containt implicit converters
to build the objects from the regular literals. You can find out more <a href="https://simianquant.github.io/typequux/Singleton+Types+for+Literals.html">here</a>.
</p><p>Constraints are typeclasses that abstract over specific typelevel datastructures like <a href="https://simianquant.github.io/typequux/Covariant+Heterogenous+Lists.html">HLists</a>, <a href="https://simianquant.github.io/typequux/String+Indexed+Collections.html">StringIndexedCollections</a> and <a href="https://simianquant.github.io/typequux/Records.html">Records</a> (and also programming techniques like structural induction) to encode the invariants associated with the problem. 
They are called constraints because one or more of the type parameters can be fixed to encode a specific condition. 
You can find out more <a href="https://simianquant.github.io/typequux/Understanding+Constraints.html">here</a>. 
</p><p>In this example, the encoded invariant is that given an index (<code>ValueHash</code>) and an object of type <code>R</code>, the value at the index position should be a <code>String</code>. 
<strong>It should be stressed that this is achieved without using runtime reflection or structural types.</strong>
</p><p>This can be used with sequentially indexed collections, like HLists and Tuples (the regular scala tuples).
</p><pre><code class="prettyprint lang-scala">scala&gt; atExample(1, true :+: &quot;foo&quot; :+: 42L :+: HNil) // this is a HList
res1: String = foo

scala&gt; atExample(2, true :+: &quot;foo&quot; :+: 42L :+: HNil) // does not compile

scala&gt; atExample(2, &quot;oogachaka&quot; :+: 3.14159 :+: &quot;2.718&quot; :+: Some(&quot;one is spying on you&quot;) :+: HNil)
res3: String = 2.718

scala&gt; import TupleOps._ // pimp my tuples
import TupleOps._

scala&gt; atExample(1, (true, &quot;foo&quot;, 42L))
res4: String = foo

scala&gt; atExample(2, (3.14159, Some(&quot;one is spying on you&quot;), &quot;oogachaka&quot;, 42L, List(1, 2,3)))
res6: String = oogachaka
</code></pre><p>The same code can also be used with string indexed collections, like <code>StringIndexedCollections</code> (in which all elements are of the same type)
or <code>Records</code> (in which they can be of different types). The type signatures for these can be quite complicated and dont communicate much. 
For clarity, they are replaced below with <code>\**\</code>. 
</p><pre><code class="prettyprint lang-scala">scala&gt; val si1 = SINil.add(&quot;name&quot;, &quot;goku&quot;).add(&quot;son&quot;, &quot;gohan&quot;).add(&quot;friend&quot;, &quot;krillin&quot;) // String Indexed Collection
si1: \**\

scala&gt; val si2 = SINil.add(&quot;leader&quot;, &quot;Frieza&quot;).add(&quot;henchmen&quot;, &quot;ginyu&quot;).add(&quot;father&quot;, &quot;king cold&quot;)
si2: \**\

scala&gt; atExample(&quot;name&quot;, si1)
res7: String = goku

scala&gt; atExample(&quot;name&quot;, si2) // does not compile

scala&gt; val si3 = SINil.add(&quot;house&quot;, &quot;Lannister&quot;).add(&quot;name&quot;, &quot;Tyrion&quot;).add(&quot;aka&quot;, &quot;The Imp&quot;)
si3: \**\

scala&gt; atExample(&quot;name&quot;, si3)
res10: String = Tyrion

scala&gt; val r1 = RNil.add(&quot;name&quot;, &quot;goku&quot;).add(&quot;powerlevel&quot;, 9000).add(&quot;friends&quot;, List(&quot;krillin&quot;, &quot;yamcha&quot;)) // Record
r1: \**\

scala&gt; val r2 = RNil.add(&quot;show&quot;, &quot;futurama&quot;).add(&quot;coolest&quot;, &quot;Zoidberg&quot;)
r2: \**\

scala&gt; atExample(&quot;name&quot;, r1)
res11: String = goku

scala&gt; atExample(&quot;name&quot;, r2) // does not compile

</code></pre><p>Or even classes
</p><pre><code class="prettyprint lang-scala">scala&gt; case class User(name: String, age: Int)
defined class User

scala&gt; atExample(&quot;name&quot;, Record.class2Record(User(&quot;Harshad&quot;, 24)))
res15: String = Harshad
</code></pre><h2 id="Arbitrary+Arity+Zips">Arbitrary Arity Zips<a href="#Arbitrary+Arity+Zips" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>Less sexy but as useful as the above example is the ability to perform arbitrary arity zips. Here are a few quick examples:
</p><pre><code class="prettyprint lang-scala">scala&gt; (List(1, 2,3 ), List(1.1, 2.2, 4.4), List(true, false, false, true, true), List(&quot;philip&quot;, &quot;fry&quot;, &quot;bender&quot;, &quot;leela&quot;)).azipped // tuples
res16: List[(Int, Double, Boolean, String)] = List((1,1.1,true,philip), (2,2.2,false,fry), (3,4.4,false,bender))

scala&gt; (List(1, 2,3 ) :+: List(1.1, 2.2, 4.4) :+: List(true, false, false, true, true) :+: List(&quot;philip&quot;, &quot;fry&quot;, &quot;bender&quot;, &quot;leela&quot;) :+: HNil).azipped // HLists
res17: \**\ = List(1 :+: 1.1 :+: true :+: philip :+: HNil, 2 :+: 2.2 :+: false :+: fry :+: HNil, 3 :+: 4.4 :+: false :+: bender :+: HNil)

scala&gt; (Stream.from(1), Stream.continually(util.Random.nextBoolean)).zipwith((a: (Int, Boolean)) =&gt; if(a._2) a._1 * 100.0 else a._1 / 100.0)
res19: Stream[Double] = Stream(100.0, ?)

scala&gt; (res19 take 5).toVector
res20: Vector[Double] = Vector(100.0, 200.0, 0.03, 400.0, 0.05)
</code></pre><p>The rest of the project documentation provides details on these and other primitives. 
</p><div class="bottom nav span-16">
                        <em>Next Page</em>
                        <span class="arrow">❧</span>
                        <a href="Pre+Requisites.html"> Pre Requisites </a>                        
                        
                      </div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="TypeQuux.html">TypeQuux</a></div><ol class="toc"> <li><div class="current">Two Quick Examples</div></li><li><div><a href="Pre+Requisites.html">Pre Requisites</a></div></li><li><div><a href="Usage.html">Usage</a></div><ol class="toc"> <li><div><a href="Church+Encoding+of+Booleans.html">Church Encoding of Booleans</a></div></li><li><div><a href="Peano+Numbers.html">Peano Numbers</a></div></li><li><div><a href="Dense+Numbers.html">Dense Numbers</a></div></li><li><div><a href="Type+Sets.html">Type Sets</a></div></li><li><div><a href="Type+Maps.html">Type Maps</a></div></li><li><div><a href="Natural+Transformations.html">Natural Transformations</a></div></li><li><div><a href="Type-Unions+and+Exclusions.html">Type-Unions and Exclusions</a></div></li><li><div><a href="Singleton+Types+for+Literals.html">Singleton Types for Literals</a></div></li><li><div><a href="Covariant+Heterogenous+Lists.html">Covariant Heterogenous Lists</a></div></li><li><div><a href="Tuple+Ops.html">Tuple Ops</a></div></li><li><div><a href="Sized+Vectors.html">Sized Vectors</a></div></li><li><div><a href="String+Indexed+Collections.html">String Indexed Collections</a></div></li><li><div><a href="Records.html">Records</a></div></li><li><div><a href="Understanding+Constraints.html">Understanding Constraints</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <div class="header">
          <div class="container">
        <div class="span-16 prepend-1 append-1">
          <div class="span-16 top nav">
            <div class="span-16 title">
              <span>TypeQuux</span> — Two Quick Examples
            </div>
          </div>
        </div>
      </div>
        </div>
        <div class="footer">
          
        </div>
        <a href="http://github.com/simianquant/typequux" class="fork nav"><img src="img/fork.png" alt="Fork me on GitHub"/></a>
        
      </body>
    </html>